<file>       : <procdef> <declares> <cline>*
<declare>    : <local> | <global>
<declares>   : <declare>+
<cline>      : <line> | <line> ':' <cine>+
<procdef>    : <string> ':'
<line>       : 'REM' <text> | <proc_call> |
               <onerr> | <label> | <assignment> | <command> |
	       <function> <expression |
               TRAP <trapable_command> |
               'LOCAL' <varlist> |
	       'GLOBAL' <varlist> |
               'IF' <expression> | 'ELSE' | 'ENDIF' |
	       'DO' | 'WHILE' <expression> |
	       'WHILE' <expression> | 'ENDWH' |
	       'REPEAT' | 'UNTIL' <expression> |
	       'GOTO' <label> |
	       <return>
<return>     : 'RETURN' | 'RETURN' <variable>	       
<proc_call>  : <vname>':' | <vname>'%:' | <vname>'$:'
<label>      : <string>'::'
<onerr>      : ONERR <label> | ONERR OFF
<string>     : '"'<textchar>*'"'
<text>       : <textchar>*
<number>     : <integer> | <float>
<atom>       : <string> | <number> | <variable>	| %<character>       
<sub_expr>   : '(' <expression> ')'
<eitem>      : <operator> | <function> | <atom> | <sub_expr> 
<expression> : <eitem>+
<variable>   : <vname> | <vname>'%' | <vname>'$' |
               <vname>'(' <expression> ')' |
	       <vname>'%''(' <expression> ')' |
	       <vname>'$''(' <expression> ')' |
	       <vname>'$''(' <expression ',' <expression> ')'
<command>    : <command-list-name-entry> <expression>
<assignment> : <variable> '=' <expression>
<varlist>    : <variable>+
<vname>      : <A-Z><A-Z0-9>*
<operator>   : <operator-list-string>	      

Notes:

*  means zero or more occurrances
+  means  one or more occurrances

No variable name can be a command or function. E.g.:

LOCAL PRINT

is a syntax error, but:

LOCAL PRINT%

is not.

Variables in expressions have to be declared, or externals. External variable names cannot be command or function names.

